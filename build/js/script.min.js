let isPopupOpen=!1;function moveBackground(){const e=document.querySelector(".main__background");document.addEventListener("mousemove",(t=>{if(!isPopupOpen&&window.innerWidth>=1250){const n=t.clientX/window.innerWidth;e.style.transform=`translateX(${50*-n}px)`}})),window.addEventListener("resize",(()=>{window.innerWidth<1250&&(e.style.transform="translateX(0)")}))}function modalWindow(){const e=document.querySelector(".form"),t=document.querySelectorAll(".menu__popup"),n=document.querySelector(".body");t.forEach((t=>{t.addEventListener("click",(()=>{e.classList.add("form__open"),e.classList.remove("form__close"),n.classList.add("body__scroll"),isPopupOpen=!0}))}));const o=document.querySelector(".form__button");o&&o.addEventListener("click",(()=>{e.classList.add("form__close"),e.classList.remove("form__open"),n.classList.remove("body__scroll"),e.addEventListener("transitionend",(()=>{e.classList.remove("form__close"),isPopupOpen=!1}),{once:!0})}))}function handleDocumentClick(e){const t=e.target,n=document.querySelector(".burger-menu__button"),o=document.querySelector('[aria-menu="burger-menu"]'),r=document.querySelector("header");t.closest(".menu__list--open")||t.closest(".burger-menu__burger--open")||(o.classList.remove("menu__list--open"),n.classList.remove("burger-menu__burger--open"),r.classList.add("header"))}function sendFormServer(){const e=document.querySelector(".form__block"),t=e.querySelector(".form__send");e.addEventListener("submit",(n=>{n.preventDefault(),t.disabled=!0;const o=e.querySelector("#date__arrival"),r=e.querySelector("#date__departure"),d=e.querySelector("#date__amount");o.value&&r.value&&d.value?function(){const n=new FormData(e);fetch(e.action,{method:"POST",body:n}).then((t=>{t.ok?(alert("Форма успешно отправлена!"),e.reset()):alert("Произошла ошибка при отправке формы.")})).catch((e=>{alert("Произошла ошибка при отправке формы: "+e.message)})).finally((()=>{t.disabled=!1}))}():(alert("Пожалуйста, заполните все обязательные поля."),t.disabled=!1)}))}function setupCurrentDate(){const e=document.getElementById("date__arrival"),t=(document.getElementById("date__departure"),(new Date).toISOString().split("T")[0]);e.min=t,e.addEventListener("input",(()=>{e.value===t&&(alert("Выбор текущей даты недоступен. Пожалуйста, выберите другую дату."),e.value="")}))}function burgerMenu(){const e=document.querySelector(".burger-menu__button"),t=document.querySelector('[aria-menu="burger-menu"]'),n=document.querySelector(".header");e&&t&&n&&e.addEventListener("click",(()=>{e.classList.toggle("burger-menu__burger--open"),t.classList.toggle("menu__list--open"),n.classList.toggle("header")}))}function handleDOMContentLoaded(){moveBackground(),modalWindow(),sendFormServer(),setupCurrentDate(),burgerMenu()}document.addEventListener("DOMContentLoaded",handleDOMContentLoaded),document.addEventListener("click",handleDocumentClick);
//# sourceMappingURL=script.min.js.map
